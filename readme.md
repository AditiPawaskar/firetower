# Firetower

Firetower makes it easy to re-run commands while developing.

There's two parts: the `firetower` function to host a command, and editor hooks that wrap the restart function and call it upon saving. Those just restart existing `firetower`s in the same working directory, so they are usually one liners.

It doesn't listening to file system events or anything crazy like that. But taking advantage of the save hooks offered by most editors make for a much simpler alternative to guard/wachr/grunt-watch/whatever.

In bash. With no dependencies.

## Typical Use

- run `firetower "any command"` (tests, servers, etc.)
- relax as it restarts every time you save from an editor in the same working directory

Here's how to [install it](#installation)  
Here's an example [gif](#example)

## How it works

There are two main operations:
- `-c` hosts a new command (assumed when no flag provided)
- `-r` restarts an existing firetower

If you run a command with firetower (e.g. `firetower "node server.js"` or `firetower "rspec"`) in one shell session,
calling `firetower -r` from another will restart the command in the original.

The host creates a temporary file `.firetower` to store PIDs and assumes your working directory unless you can specify otherwise.

The `firetower` script is exclusively responsible for running and restarting a command. It does not listen to file system events, so if you want to rerun a script every time your files change, you can use an [editor hook](#editor-hooks).

## Editor hooks

The firetower script does not generate any events or listen to file system changes.

To automatically restart a command when you save changes, you can add a hook to the config file of your editor.
They utilize events generated by your editor, and call `firetower -r` for their working directory.

A few existing hooks can be found [here](https://github.com/mweitzel/firetower/blob/master/hooks).

I primarily use vim and would appreciate pull requests with hooks for other editors!

## Options:

```
usage: firetower [-h | -c | -r | -s] [command] [--directory=directory] [--preserve-scrollback]
  -h help
  -c command - accepts a command to be rand as a string
  -r restart - restarts child process for existing firetower instance
  -s stop    - stops existing firetower instance
  [--directory=directory] specify directory, defaults to current
  [--preserve-scrollback] do not clear terminal on each restart
```
## Installation

- download [firetower](https://github.com/mweitzel/firetower/blob/master/firetower), chmod (`chmod u+x firetower`), and throw into your `~/usr/bin/`
- make sure `~/usr/bin/` is part of your `$PATH`
- add an [editor hook](#editor-hooks)

PRs welcome!

## Example

Here is an example of tests running on every save:

![firetower rspec example](http://i.imgur.com/vtnPqCN.gif "rspec example")
